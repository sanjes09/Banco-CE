(this["webpackJsonpbase-react-project"]=this["webpackJsonpbase-react-project"]||[]).push([[0],{14:function(e,t){t.setToken=function(e){sessionStorage.setItem("SessionToken",e)},t.getToken=function(){return sessionStorage.getItem("SessionToken")},t.logout=function(){sessionStorage.removeItem("SessionToken"),window.location="/"}},42:function(e,t,a){e.exports=a(80)},47:function(e,t,a){},67:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),s=a.n(o),i=(a(47),a(8)),l=a(9),c=a(11),m=a(10),u=a(17),d=a(4),h=a(20),p=a(16),g=a.n(p),b=a(2),f=a.n(b),w=a(82),v=(a(67),a(14)),E=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(w.a,{className:"justify-content-end align-items-center NavBar",style:{height:"75px"}},r.a.createElement(w.a.Item,{className:"ml-4 mr-auto"}),r.a.createElement(w.a.Item,null,r.a.createElement(u.b,{className:"superCenter text-center nav-link ".concat(this.props.home?"active":""),to:"/",style:{height:"75px"}},"Home")),this.props.auth?r.a.createElement(w.a.Item,null,r.a.createElement(u.b,{className:"superCenter text-center nav-link ".concat(this.props.dashboard?"active":""),to:"/dashboard",style:{height:"75px"}},"Dashboard")):null,this.props.auth?null:r.a.createElement(w.a.Item,null,r.a.createElement(u.b,{className:"superCenter text-center nav-link ".concat(this.props.register?"active":""),to:"/register",style:{height:"75px"}},"Register")),r.a.createElement(w.a.Item,null,this.props.auth?r.a.createElement("span",{className:"superCenter text-center nav-link",onClick:v.logout,style:{cursor:"pointer"}},"Log Out"):r.a.createElement(u.b,{to:"/login",className:"btn mx-3 nav-button"},"Log in")))}}]),a}(n.Component),S=a(18),y=(a(76),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/),N=/^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$/,x=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loadingSubmit:!1,name:"",email:"",password:"",rpassword:""},e.handleSubmit=function(t){t.preventDefault();var a=!1;if(e.setState({loadingSubmit:!0}),""!==e.state.name&&""!==e.state.email&&""!==e.state.password&&""!==e.state.rpassword||(f.a.remove(),f.a.warning("Please complete all the fields"),e.setState({loadingSubmit:!1}),a=!0),e.state.email.match(y)||(f.a.remove(),f.a.warning("Invalid Email"),e.setState({loadingSubmit:!1}),a=!0),e.state.password!==e.state.rpassword&&(f.a.remove(),f.a.warning("Passwords does not match"),e.setState({loadingSubmit:!1}),a=!0),e.state.password.match(N)||(f.a.remove(),f.a.warning("Passwords must have 8-16 characters with an uppercase letter and a number"),e.setState({loadingSubmit:!1}),a=!0),!a){var n={name:e.state.name,email:e.state.email,password:e.state.password};g.a.post("/api/signup",n).then((function(t){t.data.ok?(e.setState({loadingSubmit:!1}),f.a.success("Account created!"),setTimeout((function(){window.location="/login"}),2e3)):(f.a.remove(),f.a.warning(t.data.error),e.setState({loadingSubmit:!1}))})).catch((function(t){f.a.remove(),f.a.warning(t.response.data.error),e.setState({loadingSubmit:!1})}))}},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{auth:this.props.auth,register:!0}),r.a.createElement("div",{className:"register-main"},r.a.createElement("div",{className:"register-contenedor"},r.a.createElement("div",{className:"row px-0 mx-0",style:{marginTop:"20vh"}},r.a.createElement("form",{className:"border-shadow register-form",style:{width:"50%",marginLeft:"auto",marginRight:"auto"},onSubmit:this.handleSubmit},r.a.createElement("div",{className:"row my-3"},r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 form-input form-control",type:"text",name:"name",placeholder:"Name"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 form-input form-control",type:"text",name:"email",placeholder:"E-mail"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 form-input form-control",type:"password",name:"password",placeholder:"Password"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 form-input form-control",type:"password",name:"rpassword",placeholder:"Verify Password"})),r.a.createElement("div",{className:"row my-2"},r.a.createElement("button",{className:"col-4 btn btn-md mx-auto register-button",type:"submit"},this.state.loadingSubmit?r.a.createElement(S.a,{animation:"border",size:"sm"}):"Create Account")))))))}}]),a}(n.Component),j=(a(77),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/),O=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loadingSubmit:!1,email:"",password:""},e.handleLogin=function(t){t.preventDefault();var a=!1;if(e.setState({loadingSubmit:!0}),""!==e.state.email&&""!==e.state.password||(f.a.remove(),f.a.warning("Please complete all the fields"),e.setState({loadingSubmit:!1}),a=!0),e.state.email.match(j)&&(f.a.remove(),f.a.warning("Invalid Email"),e.setState({loadingSubmit:!1}),a=!0),!a){var n={email:e.state.email,password:e.state.password};g.a.post("/api/login",n).then((function(t){t.data.ok?(Object(v.setToken)(t.data.token),f.a.success("Logged!"),e.setState({loadingSubmit:!1}),setTimeout((function(){window.location="/dashboard"}),2e3)):(f.a.remove(),f.a.warning(t.data.error),e.setState({loadingSubmit:!1}))})).catch((function(t){f.a.remove(),f.a.warning(t.response.data.error),e.setState({loading:!1,auth:!1})}))}},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{auth:this.props.auth,login:!0}),r.a.createElement("div",{className:"login-main"},r.a.createElement("div",{className:"login-contenedor"},r.a.createElement("div",{className:"row mx-0 px-0",style:{marginTop:"20vh"}},r.a.createElement("form",{className:"border-shadow login-form",onSubmit:this.handleLogin},r.a.createElement("div",{className:"row my-3"},r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 form-input form-control",type:"email",name:"email",placeholder:"E-mail"}),r.a.createElement("input",{onChange:this.handleChange,className:"mx-auto w-75 my-2 form-input form-control",type:"password",name:"password",placeholder:"Password"})),r.a.createElement("div",{className:"row my-2"},r.a.createElement("button",{className:"col-4 btn btn-sm mx-auto login-button",type:"submit",disabled:this.state.loadingSubmit},this.state.loadingSubmit?r.a.createElement(S.a,{animation:"border",size:"sm"}):"Send")),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("a",{href:"/#",className:"mx-auto",style:{fontSize:"0.7rem",color:"#20C178"}},"Forgot password?")))))))}}]),a}(n.Component),k=(a(78),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{auth:this.props.auth,home:!0}),r.a.createElement("div",{className:"home-main superCenter"},"WELCOME TO MY TEST"))}}]),a}(n.Component)),C=(a(79),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{auth:this.props.auth,dashboard:!0}),r.a.createElement("div",{className:"dashboard-main"},r.a.createElement("div",{className:"dashboard-contenedor"},r.a.createElement("div",{className:"row",style:{marginTop:"20vh"}},r.a.createElement("div",{className:"col-6 mx-auto border-shadow dashboard-card superCenter"},"this is a protected view")))))}}]),a}(n.Component)),T=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,auth:!1},e.getLogged=function(){g.a.get("/api/logged",{headers:{Authorization:"Bearer "+Object(v.getToken)()}}).then((function(t){t.data.ok||(e.setState({loading:!0,auth:!1}),f.a.remove(),f.a.warning("Session expired!"),setTimeout((function(){Object(v.logout)()}),2e3))})).catch((function(t){e.setState({loading:!1,auth:!1})}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.a.get("/api/logged",{headers:{Authorization:"Bearer "+Object(v.getToken)()}}).then((function(t){t.data.ok?e.setState({loading:!1,auth:!0}):(e.setState({loading:!1,auth:!1}),f.a.remove(),f.a.warning("Session expired!"),setTimeout((function(){Object(v.logout)()}),2e3))})).catch((function(t){e.setState({loading:!1,auth:!1})})),setInterval((function(){e.getLogged()}),6e4)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.loading?r.a.createElement("div",{className:"col-2 text-center mx-auto"},r.a.createElement(S.a,{animation:"border",className:"colorSpinner"})):r.a.createElement(u.a,null,r.a.createElement(d.c,null,this.state.auth?null:r.a.createElement(d.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(x,{auth:e.state.auth})}}),this.state.auth?null:r.a.createElement(d.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(O,{auth:e.state.auth})}}),this.state.auth?r.a.createElement(d.a,{exact:!0,path:"/dashboard",render:function(){return r.a.createElement(C,{auth:e.state.auth})}}):null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(k,{auth:e.state.auth})}}),r.a.createElement(d.a,{exact:!0,render:function(){return r.a.createElement(k,{auth:e.state.auth})}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.ac4b7261.chunk.js.map